import e,{useRef as t,useState as n}from"react";function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,l,i=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=o.call(n)).done)&&(i.push(a.value),i.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var o=function(e,t,n){if(n){if(e>t)return-1;if(e<t)return 1}else{if(e>t)return 1;if(e<t)return-1}return 0},l=function(e,t,n){var a,r,l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=function(e){var t=e.split("/"),n="".concat(t[2]).concat(t[1]).concat(t[0]);return parseInt(n)};switch(n){case"string":return a=e.toLowerCase(),r=t.toLowerCase(),o(a,r,l);case"date":return a=i(e),r=i(t),o(a,r,l);case"number":return o(e,t,l);default:return 0}};function i(t){var n=t.style,a=t.name,r=t.type,o=t.sortable,i=t.updateDataTbl,c=t.data,s=c.rows,d=c.columns.filter((function(e){return e.name===a}))[0].value,u=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.sort((function(e,n){return l(e[d],n[d],r,t)}))};return e.createElement("div",{className:n.container},e.createElement("div",{className:n.name},a),o&&e.createElement("div",{className:n.icon.container,role:"sortTbl"},e.createElement("svg",{role:"sortUp",viewBox:"0 0 320 512",onClick:function(){var e=u(s,!1),t={columns:c.columns,rows:e};i(t)},height:n.icon.size,width:n.icon.size,fill:n.icon.color},e.createElement("path",{d:"M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8H288c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z"})),e.createElement("svg",{role:"sortDown",viewBox:"0 0 320 512",onClick:function(){var e=u(s,!0),t={columns:c.columns,rows:e};i(t)},height:n.icon.size,width:n.icon.size,fill:n.icon.color},e.createElement("path",{d:"M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"}))))}function c(t){var n=t.data,a=t.style,r=t.updateDataTbl;return e.createElement("table",{className:a.table},e.createElement("thead",null,e.createElement("tr",{className:a.thead.tr},n.columns.map((function(t,o){return e.createElement("th",{key:"title_".concat(o),scope:"col",role:"titleColumn"},e.createElement(i,{style:a.thead.th,name:t.name,type:t.type,sortable:t.sortable,data:n,updateDataTbl:r}))})))),e.createElement("tbody",{"data-testid":"employeeList"},0!==n.rows.length?n.rows.map((function(t,n){return e.createElement("tr",{key:"row".concat(n),className:a.tbody.tr,role:"employeeInfosContainer"},Object.entries(t).map((function(t,r){return e.createElement("td",{key:"item".concat(n).concat(r),scope:"row",className:a.tbody.td,role:"cellTbl"},t[1])})))})):e.createElement("tr",{className:a.tbody.tr},e.createElement("td",{colSpan:n.columns.length,className:a.tbody.td,"data-testid":"noEmployeeFound"},"No employee corresponds to the search criteria"))))}function s(n){var a=n.dataRef,r=n.style,o=n.updateFilterdData,l=n.updateDataTbl,i=n.nbrRows,c=n.updateIndexTbl,s=t(),d=a.rows;return e.createElement("input",{ref:s,placeholder:"search",type:"text",onChange:function(){var e=function(e){return d.filter((function(t){var n=Object.values(t).filter((function(t){return"string"!=typeof t?t.toString().includes(e.toLowerCase()):t.toLowerCase().includes(e.toLowerCase())}));return 0!=n.length}))}(s.current.value),t={columns:a.columns,rows:e},n={columns:a.columns,rows:e.slice(0,i)};o(t),l(n),c(0)},className:r})}function d(r){var o,l,i=r.style,c=r.data,s=r.updateIndexTbl,d=r.indexTbl,u=r.nbrRows,f=r.updateNbrRows,m=r.updateDataTbl,p=r.paginationConfig,_=Math.ceil(c.rows.length/u),b=a(n("selectHidden"),2),g=b[0],h=b[1],y=c.rows.length,v=new Array(Math.ceil(c.rows.length/p)).fill(1),w=v.map((function(e,t){return"option".concat(t,"Ref")})),x=t(w);0==y?(o=0,l=0):y<=p?(o=1,l=y):l=(o=d*u+1)+u-1>=y?y:o+u-1;var E=function(e,t){var n={columns:c.columns,rows:c.rows.slice(e*t,e*(t+1))};m(n)},z=function(e){if(0!==c.rows.length){var t=function(e,t){switch(t){case"next":return e==_-1?e:e+1;case"previous":return 0==e?e:e-1;case"last":return _-1;case"first":return 0}}(d,e);s(t),E(u,t)}};return e.createElement("div",{className:i.container},e.createElement("span",null," Rows per page:"),e.createElement("div",{className:i.select.container},e.createElement("div",{className:i.select.title},e.createElement("div",null," ",c.rows.length<=u?c.rows.length:u),e.createElement("svg",{role:"arrowDown",viewBox:"0 0 320 512",onClick:function(){h("selectHidden"===g?"selectVisib":"selectHidden")},height:i.select.icon.size,width:i.select.icon.size,fill:i.select.icon.color},e.createElement("path",{d:"M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"}))),e.createElement("div",{className:i.select.options,id:g},e.createElement("ul",null,v.map((function(t,n){return e.createElement("li",{key:"option_".concat(n),ref:x[n],onClick:function(e){return function(e){var t=parseInt(e.target.textContent);f(t),s(0),E(t,0),h("selectHidden")}(e)},role:"nbrPage"},(n+1)*p)}))))),e.createElement("div",{className:i.currentPage},o,"-",l," of ",y),e.createElement("div",{className:i.arrows.container},e.createElement("svg",{role:"goFirst",viewBox:"0 0 512 512",onClick:function(){z("first")},height:i.arrows.icon.size,width:i.arrows.icon.size,fill:i.arrows.icon.color},e.createElement("path",{d:"M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z"})),e.createElement("svg",{role:"goPrevious",viewBox:"0 0 320 512",onClick:function(){z("previous")},height:i.arrows.icon.size,width:i.arrows.icon.size,fill:i.arrows.icon.color},e.createElement("path",{d:"M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"})),e.createElement("svg",{role:"goNext",viewBox:"0 0 320 512",onClick:function(){z("next")},height:i.arrows.icon.size,width:i.arrows.icon.size,fill:i.arrows.icon.color},e.createElement("path",{d:"M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"})),e.createElement("svg",{role:"goLast",viewBox:"0 0 512 512",onClick:function(){z("last")},height:i.arrows.icon.size,width:i.arrows.icon.size,fill:i.arrows.icon.color},e.createElement("path",{d:"M470.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 256 265.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160zm-352 160l160-160c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L210.7 256 73.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z"}))))}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&a.firstChild?a.insertBefore(r,a.firstChild):a.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}(".table_section_df{background-color:transparent;display:flex;justify-content:center}.table_section_ct{background-color:#ff0}.table_container_df{display:grid;grid-template-rows:max-content content max-content;row-gap:1.2rem}.table_container_ct{background-color:#deb887}.table_header_df{align-items:center;display:flex;justify-content:space-between}.table_title_df{font-size:1.8rem}.table_filter_df{background-color:transparent;border:1px solid #000;border-radius:.3rem;outline:none;padding:5px}.table_footer_df{display:flex;justify-content:end}.table_df{background-color:#fff;border:1px solid #000;border-collapse:collapse}.table_ct{background-color:#deb887}.table_head_tr_df{color:#000}.table_head_tr_df th{border:1px solid #000;border-collapse:collapse}.table_head_th_df{align-items:center;display:grid;grid-template-columns:1fr min-content;padding:5px}.table_head_th_name_df{font-size:1.2rem;font-weight:500;text-align:center}.table_head_th_icon_df{display:grid;grid-template-columns:1fr}.table_head_th_icon_df :first-child{margin-bottom:-7px}.table_head_th_icon_df :nth-child(2){margin-top:-7px}.table_head_th_icon_df svg:hover{fill:#000}.table_body_tr_df{border:1px solid #000;color:#000;text-align:center}.table_body_tr_df:hover{background-color:grey;color:#fff}.table_body_td_df{border:1px solid #000;padding:5px 10px;text-align:left}.pagination_container_df{display:flex;gap:20px;position:relative}.pagination_container_df svg:hover{fill:#000}.pagination_select_container_df{width:70px}.pagination_select_title_df{align-items:center;border:1px solid #000;display:grid;grid-template-columns:1fr min-content;padding:5px}.pagination_select_option_df{position:absolute;width:70px}.pagination_select_option_df ul{margin:0;padding:0}.pagination_select_option_df li{border-bottom:1px solid #000;border-left:1px solid #000;border-right:1px solid #000;list-style-type:none;padding:5px}.pagination_select_option_df li:hover{background-color:#000;color:#fff}.pagination_currentPage_df{align-items:center;display:grid;text-align:center;width:100px}.pagination_arrows_container_df{align-items:center;display:grid;gap:10px;grid-template-columns:1fr 1fr 1fr 1fr}#selectVisib{display:block}#selectHidden{display:none}");var u=[{nameStyle:"table_section",value:"table_section_df"},{nameStyle:"table_container",value:"table_container_df"},{nameStyle:"table_header",value:"table_header_df"},{nameStyle:"table_title",value:"table_title_df"},{nameStyle:"table_filter",value:"table_filter_df"},{nameStyle:"table_footer",value:"table_footer_df"},{nameStyle:"table_contenu",value:{table:"table_df",thead:{tr:"table_head_tr_df",th:{icon:{container:"table_head_th_icon_df",color:"grey",size:"1.5rem"},container:"table_head_th_df",name:"table_head_th_name_df"}},tbody:{tr:"table_body_tr_df",td:"table_body_td_df"}}},{nameStyle:"table_pagination",value:{container:"pagination_container_df",select:{icon:{color:"grey",size:"1.5rem"},container:"pagination_select_container_df",title:"pagination_select_title_df",options:"pagination_select_option_df"},currentPage:"pagination_currentPage_df",arrows:{container:"pagination_arrows_container_df",icon:{color:"grey",size:"1.5rem"}}}}];function f(t){var r,o=t.titleTbl,l=t.data,i=t.searchTbl,f=t.pagination,m=t.paginationConfig,p=t.styleCustom,_=u.reduce((function(e,t){var n=t.nameStyle,a=t.value;return e[n]=a,e}),{});p&&Object.entries(p).map((function(e){var t,n,r=a(e,2),o=r[0],l=r[1];if(o.includes("__")){var i=(t="__",n="][",o.split(t).join(n)),c="style[".concat(i,"]");c.includes("[icon][color]")||c.includes("[icon][size]")}else _[o]+=" ".concat(l)})),r=m?m.nbrRows:5,f||(r=l.rows.length);var b=a(n(l),2),g=b[0],h=b[1],y=a(n(r),2),v=y[0],w=y[1],x=a(n(0),2),E=x[0],z=x[1],C=a(n({columns:g.columns,rows:g.rows.slice(v*E,v*(E+1))}),2),N=C[0],T=C[1],k=function(e){T(e)},S=function(e){z(e)};return e.createElement("div",{className:_.table_section,"data-testid":"tableSection"},e.createElement("div",{className:_.table_container,"data-testid":"tableContainer"},e.createElement("div",{className:_.table_header},e.createElement("span",{className:_.table_title,role:"titleTbl"},o),i&&e.createElement(s,{style:_.table_filter,dataRef:l,updateFilterdData:function(e){h(e)},nbrRows:v,updateDataTbl:k,updateIndexTbl:S})),e.createElement(c,{style:_.table_contenu,data:N,updateDataTbl:k}),e.createElement("div",{className:_.table_footer},f&&e.createElement(d,{style:_.table_pagination,data:g,updateIndexTbl:S,indexTbl:E,nbrRows:v,updateNbrRows:function(e){w(e)},paginationConfig:r,updateDataTbl:k}))))}export{f as DataTable};
